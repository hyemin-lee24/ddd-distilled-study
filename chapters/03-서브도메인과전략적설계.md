# 03. 서브도메인과 전략적 설계

## 이 장의 구성

1. 서브도메인은 무엇인가?
2. 서브도메인의 유형
3. 복잡성 다루기

## 바운디드 컨텍스트와 서브도메인 관계

- DDD 프로젝트 내에는 **여러 바운디드 컨텍스트**가 존재하며,
    
    그중 하나는 **핵심 도메인**이 되고 나머지는 다양한 **서브도메인**과 연결된다.
    
- 바운디드 컨텍스트와 서브도메인은 **1:1 관계**를 갖는다.
    
    → 하나의 바운디드 컨텍스트는 하나의 서브도메인을 모델링한다.
    
- 애자일 프로젝트 관리의 핵심은
    
    **하나의 바운디드 컨텍스트와 하나의 서브도메인을 함께 포함**하는 것이다.
    

## 서브도메인이란?

- **서브도메인**은 전체 비즈니스 도메인을 **논리적으로 나눈 하위 영역**이다.
    
    → 하나의 논리적 도메인 모델이라고도 볼 수 있음.
    
- 서브도메인은 **명확한 전문 지식 영역**별로 정의될 수 있고,
    
    이는 비즈니스의 핵심 문제 해결과 책임 분담의 관점에서 도출된다.
    
- **크기와 상관없이**, 서브도메인은 **비즈니스적으로 전략적 의미**를 가진다.

## 서브도메인의 세 가지 유형

1. **핵심 도메인 (Core Domain)**
    - 비즈니스에서 **차별화**를 만드는 가장 중요한 영역
    - 명확히 정의된 도메인 모델을 기반으로 하며,
        
        **가장 많은 자원 투자와 기술적 집중**이 필요
        
2. **지원 서브도메인 (Supporting Subdomain)**
    - 핵심 도메인을 성공시키기 위해 필요한 **맞춤형 모델링 영역**
    - 기존 제품으로 해결할 수 없는 경우 직접 개발이 필요
    - **지나친 투자보다는 아웃소싱 고려 가능**하지만, 전략적으로는 중요
3. **일반 서브도메인 (Generic Subdomain)**
    - 기존 제품이나 도구를 활용해 쉽게 충족 가능한 영역
    - 전략적 가치가 낮음 → 핵심 도메인으로 **오해하지 않도록 주의** 필요

## 레거시 시스템과 서브도메인

- 비즈니스 도메인 내 시스템 경계 중 일부는 **레거시 시스템**일 가능성이 높다.
- 레거시 시스템을 개선하려면
    
    그것이 **핵심 도메인에 어떤 영향을 미치는지** 명확히 해야 한다.
    
- 현실에서 레거시 시스템은 종종 DDD의 바운디드 컨텍스트 설계와 상충하며,
    
    이를 “큰 진흙 덩어리(Big Ball of Mud)”라고 부르기도 한다.
    
- 하지만 그 안에 **n개의 논리적 도메인 모델**이 존재한다면,
    
    이를 **서브도메인 단위로 재해석**할 수 있다.
    
- 서브도메인을 기준으로 바라보면 레거시 시스템도 **DDD 방식의 구조적 접근**이 가능해진다.

## 서브도메인의 활용 효과

- 현재 작업 중인 핵심 도메인이나 관련된 서브도메인을
    
    **간단한 다이어그램으로 표현**할 수 있다.
    
- 서브도메인 간의 **의존성**과 **관계성**을 이해하는 데도 도움이 된다.
- 하나의 바운디드 컨텍스트 안에 **오직 하나의 서브도메인**만 두는 것이 중요하며,
    
    이는 컨텍스트를 명확히 유지하고 **핵심 전략 목표에 집중**할 수 있게 해준다.
    
- 서브도메인을 구분하는 일은 향후 **해결 영역 전체에 지속적으로 적용**될 것이다.